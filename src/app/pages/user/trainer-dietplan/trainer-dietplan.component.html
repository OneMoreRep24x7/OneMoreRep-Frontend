<body class="bg-gradient-to-b from-gray-900 to-black text-white">
    <!-- Header -->
    <app-header class="fixed top-0 w-full z-50"></app-header>
  
    <!-- Main Content -->
    <section class="flex flex-col items-center justify-center min-h-[550px] pt-48 sm:px-6 md:px-8 lg:px-10 xl:px-12">
      <!-- Title and Description -->
      <div *ngIf="isTrainerValid()"  class="text-center mb-8">
        <h2 class="text-2xl md:text-5xl font-semibold uppercase tracking-wide">
          Diet <span class="text-orange-500">Plans</span>
        </h2>
        <p class="text-lg text-gray-500">Diet plans added by your trainer</p>
      </div>
  
      <!-- Main Content -->
      <div *ngIf="isTrainerValid()" class="flex flex-col lg:flex-row w-full max-w-7xl gap-6">
     
        <div class="w-full lg:w-3/4 rounded-lg shadow-lg overflow-y-auto px-8 py-8">
           
            <div class="bg-gradient-to-b from-gray-600 to-gray-900 rounded-lg p-6 shadow-lg">
                <h2 class="text-3xl font-semibold text-orange-500 border-b-2 border-orange-500 mb-4 pb-2">Today's Diet</h2>
                <div *ngIf="dailyDiet" class="text-xl font-semibold text-orange-600 border-b border-gray-500 pb-2 mb-4">
                  {{ dailyDiet?.day }}
                </div>
              
                <div *ngIf="dailyDiet"  class="space-y-6">
                  <!-- Breakfast Section -->
                  <div>
                    <p class="text-orange-500 text-lg font-semibold">Breakfast</p>
                    <ul class="space-y-2">
                      <li
                        *ngFor="let item of groupAndCountMeals(dailyDiet.breakfast)"
                        class="flex justify-between items-center p-4 bg-gray-800 rounded-lg hover:bg-gray-700 transition duration-200 ease-in-out"
                      >
                        <span class="flex items-center gap-2">
                          <span class="w-3 h-3 bg-orange-500 rounded-full"></span>
                          {{ item.meal.recipeName }} ({{ item.count }}x {{ item.meal.quantity }} {{ item.meal.unit }})
                        </span>
                        <i class="fas fa-angle-right text-gray-400 hover:text-orange-500 transition"></i>
                      </li>
                    </ul>
                  </div>
              
                  <!-- Lunch Section -->
                  <div>
                    <p class="text-orange-500 text-lg font-semibold">Lunch</p>
                    <ul class="space-y-2">
                      <li
                        *ngFor="let item of groupAndCountMeals(dailyDiet.lunch)"
                        class="flex justify-between items-center p-4 bg-gray-800 rounded-lg hover:bg-gray-700 transition duration-200 ease-in-out"
                      >
                        <span class="flex items-center gap-2">
                          <span class="w-3 h-3 bg-orange-500 rounded-full"></span>
                          {{ item.meal.recipeName }} ({{ item.count }}x {{ item.meal.quantity }} {{ item.meal.unit }})
                        </span>
                        <i class="fas fa-angle-right text-gray-400 hover:text-orange-500 transition"></i>
                      </li>
                    </ul>
                  </div>
              
                  <!-- Dinner Section -->
                  <div>
                    <p class="text-orange-500 text-lg font-semibold">Dinner</p>
                    <ul class="space-y-2">
                      <li
                        *ngFor="let item of groupAndCountMeals(dailyDiet.dinner)"
                        class="flex justify-between items-center p-4 bg-gray-800 rounded-lg hover:bg-gray-700 transition duration-200 ease-in-out"
                      >
                        <span class="flex items-center gap-2">
                          <span class="w-3 h-3 bg-orange-500 rounded-full"></span>
                          {{ item.meal.recipeName }} ({{ item.count }}x {{ item.meal.quantity }} {{ item.meal.unit }})
                        </span>
                        <i class="fas fa-angle-right text-gray-400 hover:text-orange-500 transition"></i>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              
              
              
        </div>
          
  
        <!-- Your Existing Plan -->
        <div class="w-full lg:w-1/4 bg-gradient-to-b from-orange-500 to-gray-900 rounded-lg shadow-lg overflow-y-auto px-8 py-8">
          <h2 class="text-2xl font-semibold text-white border-b mb-4">Your Existing Plan <i class="fas fa-calendar text-orange-400 ml-2"></i></h2>
          
          <!-- Calendar and Rest Day Info -->
          <div class="mt-6">
            <p-calendar
              class="max-w-full"
              [(ngModel)]="date"
              [inline]="true"
              [showWeek]="true"
              (onSelect)="onDateSelect($event)"
            ></p-calendar>
  
        
  
            <!-- Workout Plan Details -->
            <div *ngIf="dietPlan" class="mt-6 text-white">
              <h3 class="text-xl font-bold text-orange-500 border-b ">{{ dietPlan.planName }}</h3>
              <div class="grid text-lg gap-4 mt-3">
                <p><span class="font-semibold text-green-700">Started at:</span> {{ dietPlan.startDate }}</p>
                <p><span class="font-semibold text-red-600">Ends at:</span> {{ dietPlan.planExpire }}</p>
              </div>
              <blockquote class="mt-4 text-gray-400">
                "Stay consistent in your journey. Your effort today will define your success tomorrow."
              </blockquote>
            </div>
          </div>
        </div>
      </div>
      <ng-container *ngIf="!isTrainerValid()">
        <div class=" w-full lg:w-3/4 bg-yellow-600 rounded-lg shadow-lg overflow-y-auto px-8 py-8">
          <div class="flex flex-col  items-center text-white">
            <i class="fas fa-exclamation-triangle text-3xl"></i>
            <h2 class="text-2xl font-semibold mt-4">Access Denied !</h2>
            <p class="mt-2">You can't access the workout plan because your trainer validity has expired or you haven't purchased any trainers.</p>
          </div>
        </div>
      </ng-container>
    </section>
  
    <!-- Footer -->
    <app-footer></app-footer>
  </body>
  
